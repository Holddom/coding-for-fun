如果函数体代码比较多，需要较长的执行时间，那么函数调用机制占用的时间可以忽略；如果函数只有一两条语句，那么大部分的时间都会花费在函数调用机制上，这种时间开销就就不容忽视。

>  为了消除函数调用的时空开销，C++ 提供一种提高效率的方法，即在编译时将函数调用处用函数体替换，类似于C语言中的宏展开。这种在函数调用处直接嵌入函数体的函数称为内联函数（Inline Function），*又称内嵌函数或者内置函数*。

```c++
#include <string>
using namespace std;
inline void swap(int* a, int* b) {
	int temp;
	temp = *a;
	*a = *b;
	*b = temp;
}
int main()
{
	int m, n;
	cin >> m >> n;
	cout << m << ", " << n << endl;
	swap(&m, &n);
	cout << m << ", " << n << endl;

	return 0;
}
```

> inline 关键字
>
> 注意，要在函数定义处添加 inline 关键字，在函数声明处添加 inline 关键字虽然没有错，但这种做法是无效的，编译器会忽略函数声明处的 inline 关键字。
>
> 它可将函数调用处用函数体代换 类似于宏展开

```c++
int temp;
temp = *(&m);
*(&m) = *(&n);
*(&n) = temp;
```

> 最后需要说明的是，对函数作 inline 声明只是程序员对编译器提出的一个建议，而不是强制性的，并非一经指定为 inline 编译器就必须这样做。编译器有自己的判断能力，它会根据具体情况决定是否这样做。